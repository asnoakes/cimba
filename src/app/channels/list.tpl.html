<div class="overlay" ng-show="showOverlay" ng-click="showOverlay=false; newChannelModal=false"></div>
<div>
	<div> 
		<button class='fa fa-plus channel-menu-btn btn-primary pull-right' ng-click="newChannelModal=!newChannelModal; showOverlay=true" id="new-channel-button" title="New Channel"></button> 
		<a href ui-sref="manage">
			<button class='fa fa-wrench channel-menu-btn btn-primary pull-right' title='Manage Channels' disabled></button>
		</a>
		<div class="center"><h1>Channels</h1></div>
	</div>
    <div id="channel-modal" ng-show="newChannelModal" class="popup">
    	<div class="pull-right">
    		<button type="button" class="close" ng-click="newChannelModal=false; showOverlay=false">X</button>
    	</div>
      <div>
          
          <h2 class="text-center">Create a new channel</h2>
      </div>
      <div>
          <form ng-controller = "ChannelsCtrl">
	          <p>The name you provide will be used to create a new channel inside your microblog.</p>
	          <p><input type="text" ng-model="channelname" placeholder="Name (Main, Work, etc.).." required ng-pattern="/^[A-Za-z0-9_ ]*$/"></input></p>
	          <div id="modal-channel-group" class="btn-group-horizontal"> 
		          <div id="audience-group" class="btn-group">
		              <button id="audience" class="btn btn-primary" disabled><i class="fa fa-group fa-2x white"></i></button><button class="btn dropdown-toggle" data-toggle="dropdown" data-target="#" href="#"> <small class="drop" rel="tooltip" data-placement="top" title="Audience"><i class="fa fa-chevron-down fa-2x"></i></small></button>
		              <ul class="dropdown-menu audience-dropdown" role="menu" aria-labelledby="audience">
		                  <li ng-click="setAudience('public')">
		                  	<a href="#">
		                  		<i id="public" class="fa fa-globe fa-2x default-color"></i> 
		                  		Public
		                  	</a>
		                  </li>
		                  <li ng-click="setAudience('private')">
		                  	<a href="#">
		                  		&nbsp;
		                  		<i id="private" class="fa fa-lock fa-2x default-color"></i>
		                  		&nbsp; Private
		                  	</a>
		                  </li>
		              </ul>
		          </div>		      
	              <button class="btn btn-primary" ng-click="newChannel(channelname); newChannelModal=false">
	              	Create
	              </button>		         
	          </div>                
          </form>
      </div>
    </div>
	<div class = "panel-body" overflow='auto' align='center'>
		<div id="channels" ng-repeat="channel in channels">
			<div class="channelItem row">
				<div class="channel-title "> 
					<a ui-sref="view({path: channel.safeUri})" >{{channel.title}}</a>
				</div> 
			</div>
		</div>
    </div>
</div>
